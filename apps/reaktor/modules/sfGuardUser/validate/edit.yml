methods:
  post:
    - "sf_guard_user{username}"
    - "sf_guard_user{password}"
    - "sf_guard_user{password_bis}"
    - "sf_guard_user{dob}"
    - "sf_guard_user{sex}"
    - "sf_guard_user{residence_id}"
    - "sf_guard_user{email}"

fillin:
  enabled:  true

names:
  sf_guard_user{username}:
    required:     yes
    required_msg: Please enter a username
    validators:   usernameUniqueValidator

  sf_guard_user{dob}:
    required:     yes
    required_msg: Please enter a date of birth
    validators:   magickDateValidator

  sf_guard_user{password}:
    required:     no
    group:        password
    validators:   passwordValidator

  sf_guard_user{password_bis}:
    required:     no
    group:        password
    validators:   comparePasswordValidator
  
  sf_guard_user{residence_id}:
    required:     yes
    required_msg: Please select a residence

      
  sf_guard_user{email}:
    required:     yes
    required_msg: Please enter your email address
    validators:   emailUniqueValidator

  sf_guard_user{sex}:
    required:       true
    msg:            Please select sex

magickDateValidator:
  class:          myMagickDateValidator
  param:
    class:        sfGuardUser
    column:       dob
    date_error:   The date you entered is not valid
    required_msg: Please select a date of birth

usernameUniqueValidator:
  class:          sfPropelUniqueValidator
  param:
    class:        sfGuardUser
    column:       username
    unique_error: This username already exists

passwordValidator:
  class:          sfStringValidator
  param:
    min:          4
    min_error:    The minimum length for the password is 4

comparePasswordValidator:
  class:           sfCompareValidator
  param:
    check:         "sf_guard_user[password]"
    compare_error: Passwords do not match

emailUniqueValidator:
  class:          sfPropelUniqueValidator
  param:
    class:        sfGuardUser
    column:       email
    unique_error: This email address is in use

